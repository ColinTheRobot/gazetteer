Entropy Free / LC Digital Gazetteer installation

Install:
    python-pip
    python-virtualenv
    python-psycopg2
    postgresql-postgis-8.4
    postgresql-contrib-8.4
    apache2
    libapache2-mod-wsgi

Create the database:
    createdb gazetteer
    bzcat digital-gazetteer.sql.bz2 | psql gazetteer

    If creating a fresh db, you need to setup pg_trgm for Trigram Search:
        psql <db_name>
        create extension pg_trgm;
        CREATE INDEX places_feature_preferred_name_trgm_idx ON places_feature USING gin (preferred_name gin_trgm_ops);

Get:
    # bzr branch PUBLIC_URL gazetteer
    cd gazetteer
    virtualenv .
    . bin/activate
    pip -E . install -r requirements.txt

Patch:
    wget https://code.djangoproject.com/raw-attachment/ticket/9806/9806.5.diff
    cd src/django
    patch -p0 < ../../9806.5.diff

Develop:
    create gazetteer/local_settings.py

    . bin/activate
    cd gazetteer
    python manage.py shell

    python manage.py runserver


Deploy:
    create gazetteer/local_settings.py
    copy conf/apache2.conf to /etc/apache2/sites-available and edit it
    
    To copy static files and serve them correctly on the server:
        python manage.py collectstatic
